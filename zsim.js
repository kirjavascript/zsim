/*! zsim 0.1.0 */
window.zsim=function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=21)}([function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,o){(function(t){var r,n,i,s,a,c,h,u,f,p,l,d,y,m,v,g,b,x,S,w,C,z;function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=this,"object"==E(t)&&t.exports?t.exports=(a=o(2),c=o(8),h=o(9),u=o(5),f=o(3),p=o(10),l=o(13),d=o(6),y=o(4),m=o(11),v=o(12),g=o(14),b=o(7),x=o(15),S=o(16),w=o(17),C=o(18),z=o(19),a.CanvasRenderer=c,a.SvgRenderer=h,a.Vector=u,a.Anchor=f,a.Dragger=p,a.Illustration=l,a.PathCommand=d,a.Shape=y,a.Group=m,a.Rect=v,a.RoundedRect=g,a.Ellipse=b,a.Polygon=x,a.Hemisphere=S,a.Cylinder=w,a.Cone=C,a.Box=z,a):(n=[],r=s.Zdog,void 0===(i="function"==typeof r?r.apply(e,n):r)||(t.exports=i))}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Zdog v1.1.1
 * Round, flat, designer-friendly pseudo-3D engine
 * Licensed MIT
 * https://zzz.dog
 * Copyright 2019 Metafizzy
 */var o,r;o=this,r=function(){var t={};t.TAU=2*Math.PI,t.extend=function(t,e){for(var o in e)t[o]=e[o];return t},t.lerp=function(t,e,o){return(e-t)*o+t},t.modulo=function(t,e){return(t%e+e)%e};var e={2:function(t){return t*t},3:function(t){return t*t*t},4:function(t){return t*t*t*t},5:function(t){return t*t*t*t*t}};return t.easeInOut=function(t,o){if(1==o)return t;var r=(t=Math.max(0,Math.min(1,t)))<.5,n=r?t:1-t,i=(e[o]||e[2])(n/=.5);return i/=2,r?i:1-i},t},"object"==e(t)&&t.exports?t.exports=r():o.Zdog=r()}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(5),o(8),o(9));else{var i=r.Zdog;i.Anchor=n(i,i.Vector,i.CanvasRenderer,i.SvgRenderer)}}(this,function(t,e,o,r){var n=t.TAU,i={x:1,y:1,z:1};function s(t){this.create(t||{})}return s.prototype.create=function(o){this.children=[],t.extend(this,this.constructor.defaults),this.setOptions(o),this.translate=new e(o.translate),this.rotate=new e(o.rotate),this.scale=new e(i).multiply(this.scale),this.origin=new e,this.renderOrigin=new e,this.addTo&&this.addTo.addChild(this)},s.defaults={},s.optionKeys=Object.keys(s.defaults).concat(["rotate","translate","scale","addTo"]),s.prototype.setOptions=function(t){var e=this.constructor.optionKeys;for(var o in t)-1!=e.indexOf(o)&&(this[o]=t[o])},s.prototype.addChild=function(t){-1==this.children.indexOf(t)&&(t.remove(),t.addTo=this,this.children.push(t))},s.prototype.removeChild=function(t){var e=this.children.indexOf(t);-1!=e&&this.children.splice(e,1)},s.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},s.prototype.update=function(){this.reset(),this.children.forEach(function(t){t.update()}),this.transform(this.translate,this.rotate,this.scale)},s.prototype.reset=function(){this.renderOrigin.set(this.origin)},s.prototype.transform=function(t,e,o){this.renderOrigin.transform(t,e,o),this.children.forEach(function(r){r.transform(t,e,o)})},s.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(t){t.updateSortValue()}),this.flatGraph.sort(s.shapeSorter)},s.shapeSorter=function(t,e){return t.sortValue-e.sortValue},Object.defineProperty(s.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(t){this._flatGraph=t}}),s.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},s.prototype.getFlatGraph=function(){var t=[this];return this.addChildFlatGraph(t)},s.prototype.addChildFlatGraph=function(t){return this.children.forEach(function(e){var o=e.getFlatGraph();Array.prototype.push.apply(t,o)}),t},s.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},s.prototype.render=function(){},s.prototype.renderGraphCanvas=function(t){if(!t)throw new Error("ctx is "+t+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function(e){e.render(t,o)})},s.prototype.renderGraphSvg=function(t){if(!t)throw new Error("svg is "+t+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function(e){e.render(t,r)})},s.prototype.copy=function(e){var o={};return this.constructor.optionKeys.forEach(function(t){o[t]=this[t]},this),t.extend(o,e),new(0,this.constructor)(o)},s.prototype.copyGraph=function(t){var e=this.copy(t);return this.children.forEach(function(t){t.copyGraph({addTo:e})}),e},s.prototype.normalizeRotate=function(){this.rotate.x=t.modulo(this.rotate.x,n),this.rotate.y=t.modulo(this.rotate.y,n),this.rotate.z=t.modulo(this.rotate.z,n)},s.subclass=function e(o){return function(r){function n(t){this.create(t||{})}return n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.defaults=t.extend({},o.defaults),t.extend(n.defaults,r),n.optionKeys=o.optionKeys.slice(0),Object.keys(n.defaults).forEach(function(t){1!=!n.optionKeys.indexOf(t)&&n.optionKeys.push(t)}),n.subclass=e(n),n}}(s),s})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(5),o(6),o(3));else{var i=r.Zdog;i.Shape=n(i,i.Vector,i.PathCommand,i.Anchor)}}(this,function(t,e,o,r){var n=r.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});n.prototype.create=function(t){r.prototype.create.call(this,t),this.updatePath(),this.front=new e(t.front||this.front),this.renderFront=new e(this.front),this.renderNormal=new e};var i=["move","line","bezier","arc"];n.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},n.prototype.setPath=function(){},n.prototype.updatePathCommands=function(){var t;this.pathCommands=this.path.map(function(e,r){var n=Object.keys(e),s=n[0],a=e[s];1==n.length&&-1!=i.indexOf(s)||(s="line",a=e);var c="line"==s||"move"==s,h=Array.isArray(a);c&&!h&&(a=[a]);var u=new o(s=0===r?"move":s,a,t);return t=u.endRenderPoint,u})},n.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(t){t.reset()})},n.prototype.transform=function(t,e,o){this.renderOrigin.transform(t,e,o),this.renderFront.transform(t,e,o),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(r){r.transform(t,e,o)}),this.children.forEach(function(r){r.transform(t,e,o)})},n.prototype.updateSortValue=function(){var t=this.pathCommands.length,e=this.pathCommands[0].endRenderPoint,o=this.pathCommands[t-1].endRenderPoint;t>2&&e.isSame(o)&&(t-=1);for(var r=0,n=0;n<t;n++)r+=this.pathCommands[n].endRenderPoint.z;this.sortValue=r/t},n.prototype.render=function(t,e){var o=this.pathCommands.length;if(this.visible&&o&&(this.isFacingBack=this.renderNormal.z>0,this.backface||!this.isFacingBack)){if(!e)throw new Error("Zdog renderer required. Set to "+e);var r=1==o;e.isCanvas&&r?this.renderCanvasDot(t,e):this.renderPath(t,e)}};var s=t.TAU;n.prototype.renderCanvasDot=function(t){var e=this.getLineWidth();if(e){t.fillStyle=this.getRenderColor();var o=this.pathCommands[0].endRenderPoint;t.beginPath();var r=e/2;t.arc(o.x,o.y,r,0,s),t.fill()}},n.prototype.getLineWidth=function(){return this.stroke?1==this.stroke?1:this.stroke:0},n.prototype.getRenderColor=function(){return"string"==typeof this.backface&&this.isFacingBack?this.backface:this.color},n.prototype.renderPath=function(t,e){var o=this.getRenderElement(t,e),r=!(2==this.pathCommands.length&&"line"==this.pathCommands[1].method)&&this.closed,n=this.getRenderColor();e.renderPath(t,o,this.pathCommands,r),e.stroke(t,o,this.stroke,n,this.getLineWidth()),e.fill(t,o,this.fill,n),e.end(t,o)};return n.prototype.getRenderElement=function(t,e){if(e.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},n})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2));else{var i=r.Zdog;i.Vector=n(i)}}(this,function(t){function e(t){this.set(t)}var o=t.TAU;function r(t,e,r,n){if(e&&e%o!=0){var i=Math.cos(e),s=Math.sin(e),a=t[r],c=t[n];t[r]=a*i-c*s,t[n]=c*i+a*s}}function n(t){return Math.abs(t-1)<1e-8?1:Math.sqrt(t)}return e.prototype.set=function(t){return this.x=t&&t.x||0,this.y=t&&t.y||0,this.z=t&&t.z||0,this},e.prototype.write=function(t){return t?(this.x=null!=t.x?t.x:this.x,this.y=null!=t.y?t.y:this.y,this.z=null!=t.z?t.z:this.z,this):this},e.prototype.rotate=function(t){if(t)return this.rotateZ(t.z),this.rotateY(t.y),this.rotateX(t.x),this},e.prototype.rotateZ=function(t){r(this,t,"x","y")},e.prototype.rotateX=function(t){r(this,t,"y","z")},e.prototype.rotateY=function(t){r(this,t,"x","z")},e.prototype.isSame=function(t){return!!t&&(this.x===t.x&&this.y===t.y&&this.z===t.z)},e.prototype.add=function(t){return t?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0,this):this},e.prototype.subtract=function(t){return t?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0,this):this},e.prototype.multiply=function(t){return null==t?this:("number"==typeof t?(this.x*=t,this.y*=t,this.z*=t):(this.x*=null!=t.x?t.x:1,this.y*=null!=t.y?t.y:1,this.z*=null!=t.z?t.z:1),this)},e.prototype.transform=function(t,e,o){return this.multiply(o),this.rotate(e),this.add(t),this},e.prototype.lerp=function(e,o){return this.x=t.lerp(this.x,e.x||0,o),this.y=t.lerp(this.y,e.y||0,o),this.z=t.lerp(this.z,e.z||0,o),this},e.prototype.magnitude=function(){return n(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.magnitude2d=function(){return n(this.x*this.x+this.y*this.y)},e.prototype.copy=function(){return new e(this)},e})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(5));else{var i=r.Zdog;i.PathCommand=n(i.Vector)}}(this,function(t){function e(e,n,i){this.method=e,this.points=n.map(o),this.renderPoints=n.map(r),this.previousPoint=i,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],"arc"==e&&(this.controlPoints=[new t,new t])}function o(e){return e instanceof t?e:new t(e)}function r(e){return new t(e)}e.prototype.reset=function(){var t=this.points;this.renderPoints.forEach(function(e,o){var r=t[o];e.set(r)})},e.prototype.transform=function(t,e,o){this.renderPoints.forEach(function(r){r.transform(t,e,o)})},e.prototype.render=function(t,e,o){return this[this.method](t,e,o)},e.prototype.move=function(t,e,o){return o.move(t,e,this.renderPoints[0])},e.prototype.line=function(t,e,o){return o.line(t,e,this.renderPoints[0])},e.prototype.bezier=function(t,e,o){var r=this.renderPoints[0],n=this.renderPoints[1],i=this.renderPoints[2];return o.bezier(t,e,r,n,i)};return e.prototype.arc=function(t,e,o){var r=this.previousPoint,n=this.renderPoints[0],i=this.renderPoints[1],s=this.controlPoints[0],a=this.controlPoints[1];return s.set(r).lerp(n,9/16),a.set(i).lerp(n,9/16),o.bezier(t,e,s,a,i)},e})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(4));else{var i=r.Zdog;i.Ellipse=n(i.Shape)}}(this,function(t){var e=t.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return e.prototype.setPath=function(){var t=(null!=this.width?this.width:this.diameter)/2,e=(null!=this.height?this.height:this.diameter)/2;this.path=[{x:0,y:-e},{arc:[{x:t,y:-e},{x:t,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:t,y:e},{x:0,y:e}]}),this.quarters>2&&this.path.push({arc:[{x:-t,y:e},{x:-t,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-t,y:-e},{x:0,y:-e}]})},e})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,r;o=this,r=function(){var t={isCanvas:!0,begin:function(t){t.beginPath()},move:function(t,e,o){t.moveTo(o.x,o.y)},line:function(t,e,o){t.lineTo(o.x,o.y)},bezier:function(t,e,o,r,n){t.bezierCurveTo(o.x,o.y,r.x,r.y,n.x,n.y)},closePath:function(t){t.closePath()},setPath:function(){},renderPath:function(e,o,r,n){this.begin(e,o),r.forEach(function(r){r.render(e,o,t)}),n&&this.closePath(e,o)},stroke:function(t,e,o,r,n){o&&(t.strokeStyle=r,t.lineWidth=n,t.stroke())},fill:function(t,e,o,r){o&&(t.fillStyle=r,t.fill())},end:function(){}};return t},"object"==e(t)&&t.exports?t.exports=r():o.Zdog.CanvasRenderer=r()}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,r;o=this,r=function(){var t={isSvg:!0},e=t.round=function(t){return Math.round(1e3*t)/1e3};function o(t){return e(t.x)+","+e(t.y)+" "}return t.begin=function(){},t.move=function(t,e,r){return"M"+o(r)},t.line=function(t,e,r){return"L"+o(r)},t.bezier=function(t,e,r,n,i){return"C"+o(r)+o(n)+o(i)},t.closePath=function(){return"Z"},t.setPath=function(t,e,o){e.setAttribute("d",o)},t.renderPath=function(e,o,r,n){var i="";r.forEach(function(r){i+=r.render(e,o,t)}),n&&(i+=this.closePath(e,o)),this.setPath(e,o,i)},t.stroke=function(t,e,o,r,n){o&&(e.setAttribute("stroke",r),e.setAttribute("stroke-width",n))},t.fill=function(t,e,o,r){var n=o?r:"none";e.setAttribute("fill",n)},t.end=function(t,e){t.appendChild(e)},t},"object"==e(t)&&t.exports?t.exports=r():o.Zdog.SvgRenderer=r()}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,r;o=this,r=function(){var t="undefined"!=typeof window,e="mousedown",o="mousemove",r="mouseup";function n(){}function i(t){this.create(t||{})}return t&&(window.PointerEvent?(e="pointerdown",o="pointermove",r="pointerup"):"ontouchstart"in window&&(e="touchstart",o="touchmove",r="touchend")),i.prototype.create=function(t){this.onDragStart=t.onDragStart||n,this.onDragMove=t.onDragMove||n,this.onDragEnd=t.onDragEnd||n,this.bindDrag(t.startElement)},i.prototype.bindDrag=function(t){(t=this.getQueryElement(t))&&(t.style.touchAction="none",t.addEventListener(e,this))},i.prototype.getQueryElement=function(t){return"string"==typeof t&&(t=document.querySelector(t)),t},i.prototype.handleEvent=function(t){var e=this["on"+t.type];e&&e.call(this,t)},i.prototype.onmousedown=i.prototype.onpointerdown=function(t){this.dragStart(t,t)},i.prototype.ontouchstart=function(t){this.dragStart(t,t.changedTouches[0])},i.prototype.dragStart=function(e,n){e.preventDefault(),this.dragStartX=n.pageX,this.dragStartY=n.pageY,t&&(window.addEventListener(o,this),window.addEventListener(r,this)),this.onDragStart(n)},i.prototype.ontouchmove=function(t){this.dragMove(t,t.changedTouches[0])},i.prototype.onmousemove=i.prototype.onpointermove=function(t){this.dragMove(t,t)},i.prototype.dragMove=function(t,e){t.preventDefault();var o=e.pageX-this.dragStartX,r=e.pageY-this.dragStartY;this.onDragMove(e,o,r)},i.prototype.onmouseup=i.prototype.onpointerup=i.prototype.ontouchend=i.prototype.dragEnd=function(){window.removeEventListener(o,this),window.removeEventListener(r,this),this.onDragEnd()},i},"object"==e(t)&&t.exports?t.exports=r():o.Zdog.Dragger=r()}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(3));else{var i=r.Zdog;i.Group=n(i.Anchor)}}(this,function(t){var e=t.subclass({updateSort:!1,visible:!0});return e.prototype.updateSortValue=function(){var e=0;this.flatGraph.forEach(function(t){t.updateSortValue(),e+=t.sortValue}),this.sortValue=e/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(t.shapeSorter)},e.prototype.render=function(t,e){this.visible&&this.flatGraph.forEach(function(o){o.render(t,e)})},e.prototype.updateFlatGraph=function(){this.flatGraph=this.addChildFlatGraph([])},e.prototype.getFlatGraph=function(){return[this]},e})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(4));else{var i=r.Zdog;i.Rect=n(i.Shape)}}(this,function(t){var e=t.subclass({width:1,height:1});return e.prototype.setPath=function(){var t=this.width/2,e=this.height/2;this.path=[{x:-t,y:-e},{x:t,y:-e},{x:t,y:e},{x:-t,y:e}]},e})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(3),o(10));else{var i=r.Zdog;i.Illustration=n(i,i.Anchor,i.Dragger)}}(this,function(t,e,o){function r(){}var n=t.TAU,i=e.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:r,onDragStart:r,onDragMove:r,onDragEnd:r,onResize:r});return t.extend(i.prototype,o.prototype),i.prototype.create=function(t){e.prototype.create.call(this,t),o.prototype.create.call(this,t),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},i.prototype.setElement=function(t){if(!(t=this.getQueryElement(t)))throw new Error("Zdog.Illustration element required. Set to "+t);var e=t.nodeName.toLowerCase();"canvas"==e?this.setCanvas(t):"svg"==e&&this.setSvg(t)},i.prototype.setSize=function(t,e){t=Math.round(t),e=Math.round(e),this.isCanvas?this.setSizeCanvas(t,e):this.isSvg&&this.setSizeSvg(t,e)},i.prototype.setResize=function(t){this.resize=t,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),t?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},i.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},i.prototype.setMeasuredSize=function(){var t,e;if("fullscreen"==this.resize)t=window.innerWidth,e=window.innerHeight;else{var o=this.element.getBoundingClientRect();t=o.width,e=o.height}this.setSize(t,e)},i.prototype.renderGraph=function(t){this.isCanvas?this.renderGraphCanvas(t):this.isSvg&&this.renderGraphSvg(t)},i.prototype.updateRenderGraph=function(t){this.updateGraph(),this.renderGraph(t)},i.prototype.setCanvas=function(t){this.element=t,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(t.width,t.height)},i.prototype.setSizeCanvas=function(t,e){this.width=t,this.height=e;var o=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=t*o,this.element.height=this.canvasHeight=e*o,o>1&&!this.resize&&(this.element.style.width=t+"px",this.element.style.height=e+"px")},i.prototype.renderGraphCanvas=function(t){t=t||this,this.prerenderCanvas(),e.prototype.renderGraphCanvas.call(t,this.ctx),this.postrenderCanvas()},i.prototype.prerenderCanvas=function(){var t=this.ctx;if(t.lineCap="round",t.lineJoin="round",t.clearRect(0,0,this.canvasWidth,this.canvasHeight),t.save(),this.centered){var e=this.width/2*this.pixelRatio,o=this.height/2*this.pixelRatio;t.translate(e,o)}var r=this.pixelRatio*this.zoom;t.scale(r,r),this.onPrerender(t)},i.prototype.postrenderCanvas=function(){this.ctx.restore()},i.prototype.setSvg=function(t){this.element=t,this.isSvg=!0,this.pixelRatio=1;var e=t.getAttribute("width"),o=t.getAttribute("height");this.setSizeSvg(e,o)},i.prototype.setSizeSvg=function(t,e){this.width=t,this.height=e;var o=t/this.zoom,r=e/this.zoom,n=this.centered?-o/2:0,i=this.centered?-r/2:0;this.element.setAttribute("viewBox",n+" "+i+" "+o+" "+r),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",t),this.element.setAttribute("height",e))},i.prototype.renderGraphSvg=function(t){t=t||this,function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(this.element),this.onPrerender(this.element),e.prototype.renderGraphSvg.call(t,this.element)},i.prototype.setDragRotate=function(t){t&&(!0===t&&(t=this),this.dragRotate=t,this.bindDrag(this.element))},i.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,o.prototype.dragStart.apply(this,arguments)},i.prototype.dragMove=function(t,e){var r=e.pageX-this.dragStartX,i=e.pageY-this.dragStartY,s=Math.min(this.width,this.height),a=r/s*n,c=i/s*n;this.dragRotate.rotate.x=this.dragStartRX-c,this.dragRotate.rotate.y=this.dragStartRY-a,o.prototype.dragMove.apply(this,arguments)},i})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(4));else{var i=r.Zdog;i.RoundedRect=n(i.Shape)}}(this,function(t){var e=t.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return e.prototype.setPath=function(){var t=this.width/2,e=this.height/2,o=Math.min(t,e),r=Math.min(this.cornerRadius,o),n=t-r,i=e-r,s=[{x:n,y:-e},{arc:[{x:t,y:-e},{x:t,y:-i}]}];i&&s.push({x:t,y:i}),s.push({arc:[{x:t,y:e},{x:n,y:e}]}),n&&s.push({x:-n,y:e}),s.push({arc:[{x:-t,y:e},{x:-t,y:i}]}),i&&s.push({x:-t,y:-i}),s.push({arc:[{x:-t,y:-e},{x:-n,y:-e}]}),n&&s.push({x:n,y:-e}),this.path=s},e})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(4));else{var i=r.Zdog;i.Polygon=n(i,i.Shape)}}(this,function(t,e){var o=e.subclass({sides:3,radius:.5}),r=t.TAU;return o.prototype.setPath=function(){this.path=[];for(var t=0;t<this.sides;t++){var e=t/this.sides*r-r/4,o=Math.cos(e)*this.radius,n=Math.sin(e)*this.radius;this.path.push({x:o,y:n})}},o})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(5),o(3),o(7));else{var i=r.Zdog;i.Hemisphere=n(i,i.Vector,i.Anchor,i.Ellipse)}}(this,function(t,e,o,r){var n=r.subclass({fill:!0}),i=t.TAU;n.prototype.create=function(){r.prototype.create.apply(this,arguments),this.apex=new o({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new e},n.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},n.prototype.render=function(t,e){this.renderDome(t,e),r.prototype.render.apply(this,arguments)},n.prototype.renderDome=function(t,e){if(this.visible){var o=this.getDomeRenderElement(t,e),r=Math.atan2(this.renderNormal.y,this.renderNormal.x),n=this.diameter/2*this.renderNormal.magnitude(),s=this.renderOrigin.x,a=this.renderOrigin.y;if(e.isCanvas){var c=r+i/4,h=r-i/4;t.beginPath(),t.arc(s,a,n,c,h)}else e.isSvg&&(r=(r-i/4)/i*360,this.domeSvgElement.setAttribute("d","M "+-n+",0 A "+n+","+n+" 0 0 1 "+n+",0"),this.domeSvgElement.setAttribute("transform","translate("+s+","+a+" ) rotate("+r+")"));e.stroke(t,o,this.stroke,this.color,this.getLineWidth()),e.fill(t,o,this.fill,this.color),e.end(t,o)}};return n.prototype.getDomeRenderElement=function(t,e){if(e.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},n})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(6),o(4),o(11),o(7));else{var i=r.Zdog;i.Cylinder=n(i,i.PathCommand,i.Shape,i.Group,i.Ellipse)}}(this,function(t,e,o,r,n){function i(){}var s=r.subclass({color:"#333",updateSort:!0});s.prototype.create=function(){r.prototype.create.apply(this,arguments),this.pathCommands=[new e("move",[{}]),new e("line",[{}])]},s.prototype.render=function(t,e){this.renderCylinderSurface(t,e),r.prototype.render.apply(this,arguments)},s.prototype.renderCylinderSurface=function(t,e){if(this.visible){var o=this.getRenderElement(t,e),r=this.frontBase,n=this.rearBase,i=r.renderNormal.magnitude(),s=r.diameter*i+r.getLineWidth();this.pathCommands[0].renderPoints[0].set(r.renderOrigin),this.pathCommands[1].renderPoints[0].set(n.renderOrigin),e.isCanvas&&(t.lineCap="butt"),e.renderPath(t,o,this.pathCommands),e.stroke(t,o,!0,this.color,s),e.end(t,o),e.isCanvas&&(t.lineCap="round")}};s.prototype.getRenderElement=function(t,e){if(e.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path")),this.svgElement},s.prototype.copyGraph=i,n.subclass().prototype.copyGraph=i;var a=o.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),c=t.TAU;a.prototype.create=function(){o.prototype.create.apply(this,arguments),this.group=new s({addTo:this,color:this.color,visible:this.visible});var t=this.length/2,e=this.backface||!0;this.frontBase=this.group.frontBase=new n({addTo:this.group,diameter:this.diameter,translate:{z:t},rotate:{y:c/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||e,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-t},rotate:{y:0},backface:e})},a.prototype.render=function(){};return["stroke","fill","color","visible"].forEach(function(t){var e="_"+t;Object.defineProperty(a.prototype,t,{get:function(){return this[e]},set:function(o){this[e]=o,this.frontBase&&(this.frontBase[t]=o,this.rearBase[t]=o,this.group[t]=o)}})}),a})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(5),o(6),o(3),o(7));else{var i=r.Zdog;i.Cone=n(i,i.Vector,i.PathCommand,i.Anchor,i.Ellipse)}}(this,function(t,e,o,r,n){var i=n.subclass({length:1,fill:!0}),s=t.TAU;i.prototype.create=function(){n.prototype.create.apply(this,arguments),this.apex=new r({addTo:this,translate:{z:this.length}}),this.renderApex=new e,this.renderCentroid=new e,this.tangentA=new e,this.tangentB=new e,this.surfacePathCommands=[new o("move",[{}]),new o("line",[{}]),new o("line",[{}])]},i.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},i.prototype.render=function(t,e){this.renderConeSurface(t,e),n.prototype.render.apply(this,arguments)},i.prototype.renderConeSurface=function(t,e){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var o=this.renderNormal.magnitude(),r=this.renderApex.magnitude2d(),n=this.renderNormal.magnitude2d(),i=Math.acos(n/o),a=Math.sin(i),c=this.diameter/2*o;if(c*a<r){var h=Math.atan2(this.renderNormal.y,this.renderNormal.x)+s/2,u=r/a,f=Math.acos(c/u),p=this.tangentA,l=this.tangentB;p.x=Math.cos(f)*c*a,p.y=Math.sin(f)*c,l.set(this.tangentA),l.y*=-1,p.rotateZ(h),l.rotateZ(h),p.add(this.renderOrigin),l.add(this.renderOrigin),this.setSurfaceRenderPoint(0,p),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,l);var d=this.getSurfaceRenderElement(t,e);e.renderPath(t,d,this.surfacePathCommands),e.stroke(t,d,this.stroke,this.color,this.getLineWidth()),e.fill(t,d,this.fill,this.color),e.end(t,d)}}};return i.prototype.getSurfaceRenderElement=function(t,e){if(e.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},i.prototype.setSurfaceRenderPoint=function(t,e){this.surfacePathCommands[t].renderPoints[0].set(e)},i})}).call(this,o(0)(t))},function(t,e,o){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r,n){if("object"==e(t)&&t.exports)t.exports=n(o(2),o(3),o(4),o(12));else{var i=r.Zdog;i.Box=n(i,i.Anchor,i.Shape,i.Rect)}}(this,function(t,e,o,r){var n=r.subclass();n.prototype.copyGraph=function(){};var i=t.TAU,s=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],a=t.extend({},o.defaults);delete a.path,s.forEach(function(t){a[t]=!0}),t.extend(a,{width:1,height:1,depth:1,fill:!0});var c=e.subclass(a);c.prototype.create=function(t){e.prototype.create.call(this,t),this.updatePath(),this.fill=this.fill},c.prototype.updatePath=function(){s.forEach(function(t){this[t]=this[t]},this)},s.forEach(function(t){var e="_"+t;Object.defineProperty(c.prototype,t,{get:function(){return this[e]},set:function(o){this[e]=o,this.setFace(t,o)}})}),c.prototype.setFace=function(t,e){var o=t+"Rect",r=this[o];if(e){var i=this.getFaceOptions(t);i.color="string"==typeof e?e:this.color,r?r.setOptions(i):r=this[o]=new n(i),r.updatePath(),this.addChild(r)}else this.removeChild(r)},c.prototype.getFaceOptions=function(t){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:i/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-i/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:i/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-i/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:i/4}}}[t]};return["color","stroke","fill","backface","front","visible"].forEach(function(t){var e="_"+t;Object.defineProperty(c.prototype,t,{get:function(){return this[e]},set:function(o){this[e]=o,s.forEach(function(e){var r=this[e+"Rect"],n="string"==typeof this[e];r&&!("color"==t&&n)&&(r[t]=o)},this)}})}),c})}).call(this,o(0)(t))},,function(t,e,o){"use strict";o.r(e);var r=o(1),n=o.n(r);function i(t){return function(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=r.TAU/4,a=(r.TAU,{R:{edges:[5,9,4,1],corners:[5,4,0,1],centre:2,axis:"x"},U:{edges:[3,2,1,0],corners:[3,2,1,0],centre:0,axis:"y"},F:{edges:[6,10,5,2],corners:[1,2,6,5],centre:3,axis:"z"},L:{edges:[3,7,11,6],corners:[2,3,7,6],centre:4,axis:"x",axisFlip:!0},B:{edges:[4,8,7,0],corners:[4,7,3,0],centre:1,axis:"z",axisFlip:!0},D:{edges:[8,9,10,11],corners:[4,5,6,7],centre:5,axis:"y",axisFlip:!0},M:{centres:[0,1,5,3],edges:[2,0,8,10],axis:"x",axisFlip:!0},E:{centres:[3,4,1,2],edges:[4,5,6,7],axis:"y",axisFlip:!0},S:{centres:[4,5,2,0],edges:[3,11,9,1],axis:"z"},r:{moves:[u("R"),u("M'")]},l:{moves:[u("L"),u("M")]},f:{moves:[u("F"),u("S")]},b:{moves:[u("B"),u("S'")]},u:{moves:[u("U"),u("E'")]},d:{moves:[u("D"),u("E")]},x:{moves:[u("R"),u("M'"),u("L'")]},y:{moves:[u("U"),u("E'"),u("D'")]},z:{moves:[u("F"),u("S"),u("B'")]}});function c(t,e){var o=u(t),n=o.move,h=o.order;if(!a[n])throw new Error("invalid move ".concat(n));var f=a[n],l=f.corners,d=f.edges,y=f.centres,m=f.centre,v=f.axis,g=f.axisFlip,b=f.moves,x=[];l&&x.push.apply(x,i(l.map(function(t){return e.cubies.corners[t]}))),d&&x.push.apply(x,i(d.map(function(t){return e.cubies.edges[t]}))),y&&x.push.apply(x,i(y.map(function(t){return e.cubies.centres[t]}))),void 0!==m&&x.push(e.cubies.centres[m]);var S=g?-1:1,w=b&&b.map(function(t){return c(function(t,e){if(1===e)return t;-1===e&&(t.order=2===t.order?2:-t.order);2==e&&(t.order=2===t.order?0:2);return t}(function(t){return Object.assign({},t)}(t),h),e)});function C(t){var e=Object(r.easeInOut)(t);if(w&&w.forEach(function(t){return t.tween(e)}),0!==x.length)for(var o=0;o<x.length;o++){x[o].anchor.rotate[v]=Object(r.lerp)(0,s*h*S,e)}}return{apply:function(){w&&w.forEach(function(t){return t.apply()}),d&&(p(e.edges,h,d,y?"z":v),e.setCubieColors(d,"edges")),y&&(p(e.centres,h,y),e.setCubieColors(y,"centres")),l&&(p(e.corners,h,l,v),e.setCubieColors(l,"corners")),C(0)},tween:C,transforms:x,axis:v,source:{move:n,order:h}}}function h(t,e){return(o=t,"string"!=typeof o?o:o.split(/(\ww?\d?'?)/).filter(function(t){return t.trim()})).map(function(t){return c(t,e)});var o}function u(t){return"string"!=typeof t?t:("w"===t[1]&&(t="".concat(t[0].toLowerCase()).concat(t.slice(2)||"")),{move:t[0],order:{"'":-1,"2'":-2,2:2}[t.slice(1)]||1})}var f={x:[1,2],y:[0,2],z:[0,1]};function p(t,e,o,r){if(0!==e){-1!==e&&3!==e||(o=i(o).reverse()),2!==e&&-2!==e||p(t,1,o,r);for(var n=0;n<o.length-1;n++)l(t,o[n],o[n+1]);if(3===t[0].length)for(var s=0;s<o.length;s++)l.apply(void 0,[t[o[s]]].concat(i(f[r])));else if("z"===r)for(var a=0;a<o.length;a++)l(t[o[a]],0,1)}}function l(t,e,o){var r=t[e];t[e]=t[o],t[o]=r}var d=[{color:0,axis:"y",offset:-1},{color:1,axis:"z",offset:-1},{color:2,axis:"x",offset:1},{color:3,axis:"z",offset:1},{color:4,axis:"x",offset:-1},{color:5,axis:"y",offset:1}],y=[[{color:1,axis:"z",offset:-1},{color:0,axis:"y",offset:-1}],[{color:2,axis:"x",offset:1},{color:0,axis:"y",offset:-1}],[{color:3,axis:"z",offset:1},{color:0,axis:"y",offset:-1}],[{color:4,axis:"x",offset:-1},{color:0,axis:"y",offset:-1}],[{color:2,axis:"x",offset:1},{color:1,axis:"z",offset:-1}],[{color:2,axis:"x",offset:1},{color:3,axis:"z",offset:1}],[{color:4,axis:"x",offset:-1},{color:3,axis:"z",offset:1}],[{color:4,axis:"x",offset:-1},{color:1,axis:"z",offset:-1}],[{color:1,axis:"z",offset:-1},{color:5,axis:"y",offset:1}],[{color:2,axis:"x",offset:1},{color:5,axis:"y",offset:1}],[{color:3,axis:"z",offset:1},{color:5,axis:"y",offset:1}],[{color:4,axis:"x",offset:-1},{color:5,axis:"y",offset:1}]],m=[[{color:2,axis:"x",offset:1},{color:0,axis:"y",offset:-1},{color:1,axis:"z",offset:-1}],[{color:2,axis:"x",offset:1},{color:0,axis:"y",offset:-1},{color:3,axis:"z",offset:1}],[{color:4,axis:"x",offset:-1},{color:0,axis:"y",offset:-1},{color:3,axis:"z",offset:1}],[{color:4,axis:"x",offset:-1},{color:0,axis:"y",offset:-1},{color:1,axis:"z",offset:-1}],[{color:2,axis:"x",offset:1},{color:5,axis:"y",offset:1},{color:1,axis:"z",offset:-1}],[{color:2,axis:"x",offset:1},{color:5,axis:"y",offset:1},{color:3,axis:"z",offset:1}],[{color:4,axis:"x",offset:-1},{color:5,axis:"y",offset:1},{color:3,axis:"z",offset:1}],[{color:4,axis:"x",offset:-1},{color:5,axis:"y",offset:1},{color:1,axis:"z",offset:-1}]];function v(){return{edges:y.map(function(t){return t.map(function(t){return t.color})}),corners:m.map(function(t){return t.map(function(t){return t.color})}),centres:d.map(function(t){return[t.color]})}}function g(t){return{edges:y.map(function(e){return x(b(e),t)}),corners:m.map(function(e){return x(b(e),t)}),centres:d.map(function(e){return x(b([e]),t)})}}function b(t){return t.map(function(t){return Object.assign({},t)})}function x(t,e){var o=e.illo,r=e.config,i=r.colors,a=r.baseZoom,c=76*a,h=new n.a.Anchor({addTo:o}),u=t.reduce(function(t,e){var o=e.offset;return t[e.axis]=c*o,t},{}),f=new n.a.Anchor({addTo:h,translate:u}),p=72*a;r.cubies&&new n.a.Box({addTo:f,width:p,height:p,depth:p,stroke:!1,color:r.cubeColor});var l=p/2+1,d={x:{y:s},y:{x:s}},y=t.map(function(t){var e=t.color,o=t.axis,a=t.offset,c=new n.a.Group({addTo:f}),h=new n.a.Rect({addTo:c,width:.9*p,height:.9*p,stroke:2,fill:!0,color:i[e],rotate:d[o]});if(h.translate[o]+=l*a,r.backface){var u=h.copy();u.translate[o]+=p*a;var y="z"===o?-1:1;u.front={z:s*a*y},u.opacity=.5,u.alpha=.5,u.backface=!1}return c});return{anchor:h,stickers:t,setColors:function(e){for(var o=0;o<y.length;o++){var n=i[e[o]];y[o].children[0].color=n,r.backface&&(y[o].children[1].color=n),t[o].color=e[o]}},destroy:function(){return h.remove()}}}var S=n.a.CanvasRenderer,w=S.move,C=S.line;function z(t){if(0===t)Object.assign(n.a.CanvasRenderer,{move:w,line:C});else{var e=t<0?-1:1,o=e*Object(r.lerp)(-2e4,-250,Math.abs(Math.cos(e-t)));n.a.CanvasRenderer.move=function(t,e,r){var n=o/(o+r.z);t.moveTo(r.x*n,r.y*n)},n.a.CanvasRenderer.line=function(t,e,r){var n=o/(o+r.z);t.lineTo(r.x*n,r.y*n)}}}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=[],r=!0,n=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);r=!0);}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return o}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(t){return function(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function R(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var A=function(t){var e=t.element,o=function(t){var e=Object.assign({zoom:1,size:400,fov:0,tps:4,backface:!1,cubies:!0,colors:["#ffffff","#0045ad","#b90000","#009b48","#ff5900","#ffd500"],cubeColor:"#000000",rotate:{x:-s/2,y:s/2}},t);return Object.defineProperty(e,"baseZoom",{get:function(){return e.size/400}}),e}(t.config),r=new n.a.Illustration({element:e,dragRotate:!0}),i=function(){e.setAttribute("width",o.size),e.setAttribute("height",o.size),r.setMeasuredSize()},a=function(){r.zoom=o.zoom},u=function(){r.rotate=o.rotate};i(),a(),u(),z(o.fov);var f=[],p=function(){return f.splice(0,f.length).map(function(t){return t.source})},l=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?O(o,!0).forEach(function(e){R(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):O(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}({},v(),{cubies:g({illo:r,config:o}),setCubieColors:function(t,e){for(var o=0;o<t.length;o++){var r=t[o];l.cubies[e][r].setColors(l[e][r])}},reset:function(){Object.assign(l,v()),l.setAllCubies(),f.length&&(f[0].tween(0),p())},setAllCubies:function(){l.setCubieColors([0,1,2,3,4,5,6,7,8,9,10,11],"edges"),l.setCubieColors([0,1,2,3,4,5,6,7],"corners"),l.setCubieColors([0,1,2,3,4,5],"centres")},reload:function(){if(l.cubies.edges.forEach(function(t){return t.destroy()}),l.cubies.corners.forEach(function(t){return t.destroy()}),l.cubies.centres.forEach(function(t){return t.destroy()}),l.cubies=g({illo:r,config:o}),l.setAllCubies(),f.length){var t=p(),e=h(t,l);e[0].epoch=t[0].epoch,f.push.apply(f,P(e))}}});return function(t,e){return Object.keys(t).forEach(function(o){Object.defineProperty(e,o,{get:function(){return t[o]},set:function(r){t[o]=r,e.onChange(o)}})}),Object.defineProperty(e,"onChange",{enumerable:!1}),e}(o,{onChange:function(t){"fov"===t&&z(o.fov),"size"===t&&i(),"zoom"===t&&a(),"rotate"===t&&u(),l.reload()},reset:l.reset,move:function(t){f.push(c(t,l))},moves:function(t){return f.push.apply(f,P(h(t,l)))},setupMoves:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&l.reset(),h(t,l).forEach(function(t){return t.apply()})},isSolved:function(){var t=l.cubies,e=t.centres,o=t.edges,r=t.corners,n={};e.forEach(function(t){var e=E(t.stickers,1)[0],o=e.color,r=e.axis,i=e.offset;n["".concat(r,"|").concat(i)]=o});for(var i=o.concat(r).map(function(t){return t.stickers}),s=0;s<i.length;s++)for(var a=0;a<i[s].length;a++){var c=i[s][a],h=c.axis,u=c.offset;if(c.color!==n["".concat(h,"|").concat(u)])return!1}return!0},render:function(){if(0!==f.length){var t=1e3/o.tps,e=performance.now(),n=f[0];n.epoch||(n.epoch=e);var i=e-n.epoch;i>t?(n.apply(),f.shift()):n.tween(i/t)}r.updateRenderGraph()}})};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=A({element:t.appendChild(document.createElement("canvas")),config:e});return function t(){o.render(),requestAnimationFrame(t)}(),o}}]);